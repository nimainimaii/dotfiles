#!/bin/sh

# list of themes
THEMES="$(flavours list | tr ' ' '\n')"

# use command-line arg or get theme using dmenu prompt
CHOOSEN_THEME=${*:-"$(echo "$THEMES" | dmenu -i -l 30 -p "Choose theme")"}

# try to apply theme and send notification only if command started with dmenu and NOT command-line args
flavours apply "$CHOOSEN_THEME" && [ -z "$*" ] && notify-send "Theme set to ${CHOOSEN_THEME}"
