#!/bin/sh

for BAT in /sys/class/power_supply/BAT?;
do
	CAPACITY=$(cat "$BAT/capacity")
	STATUS=$(cat "$BAT/status")

	case $STATUS in
		[cC]harging )
			if [ "$CAPACITY" -le 100 ] && [ "$CAPACITY" -gt 90 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 90 ] && [ "$CAPACITY" -gt 80 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 80 ] && [ "$CAPACITY" -gt 60 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 60 ] && [ "$CAPACITY" -gt 40 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 40 ] && [ "$CAPACITY" -gt 30 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 30 ] && [ "$CAPACITY" -gt 20 ]; then
				BATSYM=""
			else
				BATSYM=""
			fi
			;;
		* )
			if [ "$CAPACITY" -le 100 ] && [ "$CAPACITY" -gt 90 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 90 ] && [ "$CAPACITY" -gt 80 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 80 ] && [ "$CAPACITY" -gt 60 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 60 ] && [ "$CAPACITY" -gt 40 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 40 ] && [ "$CAPACITY" -gt 30 ]; then
				BATSYM=""
			elif [ "$CAPACITY" -le 30 ] && [ "$CAPACITY" -gt 20 ]; then
				BATSYM=""
			else
				BATSYM=""
			fi
			;;
	esac

	printf "%s %s%%" "$BATSYM" "$CAPACITY"
done
